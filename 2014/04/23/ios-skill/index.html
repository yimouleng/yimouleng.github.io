<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>iOS-Skill技巧 | Yi&#39;mouleng-即便世界与我为敌，只要心还透明，就能折射希望。</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前言
iOS开发过程中，各种小问题，小技巧，代码片段， 在这里收集，写下，方便查阅，有时间会将其分类，并添加导航和标签。
PS:查找东西，现在只能用com+f,搜索关键字查找。。。本文应该不在更新，或者说不在blog中更新了，有点麻烦，我会在Github中继续更新，链接地址">
<meta property="og:type" content="article">
<meta property="og:title" content="iOS-Skill技巧">
<meta property="og:url" content="http://yimouleng.github.io/2014/04/23/ios-skill/index.html">
<meta property="og:site_name" content="Yi'mouleng-即便世界与我为敌，只要心还透明，就能折射希望。">
<meta property="og:description" content="前言
iOS开发过程中，各种小问题，小技巧，代码片段， 在这里收集，写下，方便查阅，有时间会将其分类，并添加导航和标签。
PS:查找东西，现在只能用com+f,搜索关键字查找。。。本文应该不在更新，或者说不在blog中更新了，有点麻烦，我会在Github中继续更新，链接地址">
<meta property="og:updated_time" content="2016-01-28T09:58:10.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iOS-Skill技巧">
<meta name="twitter:description" content="前言
iOS开发过程中，各种小问题，小技巧，代码片段， 在这里收集，写下，方便查阅，有时间会将其分类，并添加导航和标签。
PS:查找东西，现在只能用com+f,搜索关键字查找。。。本文应该不在更新，或者说不在blog中更新了，有点麻烦，我会在Github中继续更新，链接地址">
  
    <link rel="alternative" href="/atom.xml" title="Yi&#39;mouleng-即便世界与我为敌，只要心还透明，就能折射希望。" type="application/atom+xml">
  
  
    <link rel="icon" href="/resources/avatar.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/resources/avatar.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Yi&#39;mouleng</a></h1>
		</hgroup>

		
		<p class="header-subtitle">知止安能定,定而知静,静方可虑,虑而后能得。---iOS交流群67784110</p>
		
				

		
			<div class="switch-btn" id="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area" id="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/archives">目录</a></li>
				        
							<li><a href="/categories/iOS开发">iOS开发</a></li>
				        
							<li><a href="/categories/二三事">二三事</a></li>
				        
							<li><a href="/tags/">标签云</a></li>
				        
							<li><a href="/about/">关于</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/yimouleng" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/yimouleng" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
					        
								<a class="QQ" target="_blank" href="http://shang.qq.com/wpa/qunwpa?idkey=ac73346414b7bc620d16a1553318221a96d0fb90832d39995c539098731e21b6" title="QQ">QQ</a>
					        
								<a class="mail" target="_blank" href="mailto:yimouleng@gamil.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/AFNetworking/" style="font-size: 10px;">AFNetworking</a> <a href="/tags/ASIHTTPRequest/" style="font-size: 10px;">ASIHTTPRequest</a> <a href="/tags/Animation/" style="font-size: 10px;">Animation</a> <a href="/tags/AppStore/" style="font-size: 10px;">AppStore</a> <a href="/tags/Apple-Pay/" style="font-size: 10px;">Apple Pay</a> <a href="/tags/AsyncSocket/" style="font-size: 10px;">AsyncSocket</a> <a href="/tags/Autolayout/" style="font-size: 10px;">Autolayout</a> <a href="/tags/CALayer/" style="font-size: 10px;">CALayer</a> <a href="/tags/CoreGraphics/" style="font-size: 10px;">CoreGraphics</a> <a href="/tags/Dota2/" style="font-size: 10px;">Dota2</a> <a href="/tags/GCD/" style="font-size: 10px;">GCD</a> <a href="/tags/HTTPS/" style="font-size: 10px;">HTTPS</a> <a href="/tags/IOS-9/" style="font-size: 10px;">IOS 9</a> <a href="/tags/KVC/" style="font-size: 10px;">KVC</a> <a href="/tags/KVO/" style="font-size: 10px;">KVO</a> <a href="/tags/LLPictureShow/" style="font-size: 10px;">LLPictureShow</a> <a href="/tags/MKNetworkingKit/" style="font-size: 10px;">MKNetworkingKit</a> <a href="/tags/Masonry/" style="font-size: 10px;">Masonry</a> <a href="/tags/QRCode/" style="font-size: 10px;">QRCode</a> <a href="/tags/ReactiveCocoa/" style="font-size: 10px;">ReactiveCocoa</a> <a href="/tags/Socket/" style="font-size: 10px;">Socket</a> <a href="/tags/TouchID/" style="font-size: 10px;">TouchID</a> <a href="/tags/UIActionSheet/" style="font-size: 10px;">UIActionSheet</a> <a href="/tags/UIAlertview/" style="font-size: 10px;">UIAlertview</a> <a href="/tags/UIBezierPath/" style="font-size: 10px;">UIBezierPath</a> <a href="/tags/UIKeyboardType/" style="font-size: 10px;">UIKeyboardType</a> <a href="/tags/WOW/" style="font-size: 10px;">WOW</a> <a href="/tags/YYWebImage/" style="font-size: 10px;">YYWebImage</a> <a href="/tags/ZXingObj/" style="font-size: 10px;">ZXingObj</a> <a href="/tags/block/" style="font-size: 20px;">block</a> <a href="/tags/cache/" style="font-size: 10px;">cache</a> <a href="/tags/iOS/" style="font-size: 20px;">iOS</a> <a href="/tags/ios/" style="font-size: 10px;">ios</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/runtime/" style="font-size: 10px;">runtime</a> <a href="/tags/scrollView/" style="font-size: 10px;">scrollView</a> <a href="/tags/skill/" style="font-size: 10px;">skill</a> <a href="/tags/内购/" style="font-size: 10px;">内购</a> <a href="/tags/动画/" style="font-size: 10px;">动画</a> <a href="/tags/即时通讯/" style="font-size: 10px;">即时通讯</a> <a href="/tags/四舍五入/" style="font-size: 10px;">四舍五入</a> <a href="/tags/多线程/" style="font-size: 10px;">多线程</a> <a href="/tags/撕裂效果/" style="font-size: 10px;">撕裂效果</a> <a href="/tags/支付/" style="font-size: 10px;">支付</a> <a href="/tags/模式框架/" style="font-size: 10px;">模式框架</a> <a href="/tags/正则/" style="font-size: 10px;">正则</a> <a href="/tags/网络框架/" style="font-size: 10px;">网络框架</a> <a href="/tags/语法/" style="font-size: 10px;">语法</a> <a href="/tags/键盘/" style="font-size: 10px;">键盘</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://yimouleng.com/">我的博客</a>
			        
			        </div>
				</section>
				

				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Yi&#39;mouleng</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="/resources/avatar.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">Yi&#39;mouleng</h1>
			</hgroup>
			
			<p class="header-subtitle">知止安能定,定而知静,静方可虑,虑而后能得。---iOS交流群67784110</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/archives">目录</a></li>
		        
					<li><a href="/categories/iOS开发">iOS开发</a></li>
		        
					<li><a href="/categories/二三事">二三事</a></li>
		        
					<li><a href="/tags/">标签云</a></li>
		        
					<li><a href="/about/">关于</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/yimouleng" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/yimouleng" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
			        
						<a class="QQ" target="_blank" href="http://shang.qq.com/wpa/qunwpa?idkey=ac73346414b7bc620d16a1553318221a96d0fb90832d39995c539098731e21b6" title="QQ">QQ</a>
			        
						<a class="mail" target="_blank" href="mailto:yimouleng@gamil.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap"><article id="post-ios-skill" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2014/04/23/ios-skill/" class="article-date">
  	<time datetime="2014-04-22T16:00:00.000Z" itemprop="datePublished">2014-04-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      iOS-Skill技巧
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/skill/">skill</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/iOS开发/">iOS开发</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        
        <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><hr>
<p>iOS开发过程中，各种小问题，小技巧，代码片段， 在这里收集，写下，方便查阅，有时间会将其分类，并添加导航和标签。</p>
<p>PS:查找东西，现在只能用com+f,搜索关键字查找。。。<br>本文应该不在更新，或者说不在blog中更新了，有点麻烦，我会在Github中继续更新，<a href="https://github.com/yimouleng/iOS-skill" target="_blank" rel="external">链接地址</a></p>
<a id="more"></a>
<h4 id="返回输入键盘"><a href="#返回输入键盘" class="headerlink" title="返回输入键盘"></a>返回输入键盘</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="built_in">UITextFieldDelegate</span>&gt;</span><br><span class="line"></span><br><span class="line">- (<span class="built_in">BOOL</span>)textFieldShouldReturn:(<span class="built_in">UITextField</span> *)textField &#123;</span><br><span class="line">    [textField resignFirstResponder];</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="CGRect"><a href="#CGRect" class="headerlink" title="CGRect"></a>CGRect</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CGRectFromString(&lt;#NSString *string#&gt;)//有字符串恢复出矩形</span><br><span class="line">CGRectInset(&lt;#CGRect rect#&gt;, &lt;#CGFloat dx#&gt;, &lt;#CGFloat dy#&gt;)//创建较小或者较大的矩形</span><br><span class="line">CGRectIntersectsRect(&lt;#CGRect rect1#&gt;, &lt;#CGRect rect2#&gt;)//判断两巨星是否交叉，是否重叠</span><br><span class="line">CGRectZero//高度和宽度为零的，位于（0，0）的矩形常量</span><br></pre></td></tr></table></figure>
<h4 id="隐藏状态栏"><a href="#隐藏状态栏" class="headerlink" title="隐藏状态栏"></a>隐藏状态栏</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[UIApplication sharedApplication] setStatusBarHidden:&lt;#(BOOL)#&gt; withAnimation:&lt;#(UIStatusBarAnimation)#&gt;//隐藏状态栏</span><br></pre></td></tr></table></figure>
<h4 id="自动适应父视图大小"><a href="#自动适应父视图大小" class="headerlink" title="自动适应父视图大小"></a>自动适应父视图大小</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.view.autoresizesSubviews = YES;</span><br><span class="line">    self.view.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;</span><br></pre></td></tr></table></figure>
<h4 id="UITableView的一些方法"><a href="#UITableView的一些方法" class="headerlink" title="UITableView的一些方法"></a>UITableView的一些方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">这里我自己做了个测试，缩进级别设置为行号，row越大，缩进越多</span><br><span class="line">&lt;UITableViewDelegate&gt;</span><br><span class="line"></span><br><span class="line">- (NSInteger)tableView:(UITableView *)tableView indentationLevelForRowAtIndexPath:(NSIndexPath *)indexPath &#123;</span><br><span class="line">    NSInteger row = indexPath.row;</span><br><span class="line">    return row;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="把plist文件中的数据赋给数组"><a href="#把plist文件中的数据赋给数组" class="headerlink" title="把plist文件中的数据赋给数组"></a>把plist文件中的数据赋给数组</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSString *path = [[NSBundle mainBundle] pathForResource:@&quot;States&quot; ofType:@&quot;plist&quot;];</span><br><span class="line">NSArray *array = [NSArray arrayWithContentsOfFile:path];</span><br></pre></td></tr></table></figure>
<h4 id="获取触摸的点"><a href="#获取触摸的点" class="headerlink" title="获取触摸的点"></a>获取触摸的点</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- (CGPoint)locationInView:(UIView *)view;</span><br><span class="line">- (CGPoint)previousLocationInView:(UIView *)view;</span><br></pre></td></tr></table></figure>
<h4 id="获取触摸的属性"><a href="#获取触摸的属性" class="headerlink" title="获取触摸的属性"></a>获取触摸的属性</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@property(nonatomic,readonly) NSTimeInterval      timestamp;</span><br><span class="line">@property(nonatomic,readonly) UITouchPhase        phase;</span><br><span class="line">@property(nonatomic,readonly) NSUInteger          tapCount;</span><br></pre></td></tr></table></figure>
<h4 id="从plist中获取数据赋给字典"><a href="#从plist中获取数据赋给字典" class="headerlink" title="从plist中获取数据赋给字典"></a>从plist中获取数据赋给字典</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSString *plistPath = [[NSBundle mainBundle] pathForResource:@&quot;book&quot; ofType:@&quot;plist&quot;];</span><br><span class="line">NSDictionary *dictionary = [NSDictionary dictionaryWithContentsOfFile:plistPath];</span><br></pre></td></tr></table></figure>
<h4 id="NSUserDefaults注意事项"><a href="#NSUserDefaults注意事项" class="headerlink" title="NSUserDefaults注意事项"></a>NSUserDefaults注意事项</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">设置完了以后如果存储的东西比较重要的话，一定要同步一下</span><br><span class="line">[[NSUserDefaults standardUserDefaults] synchronize];</span><br></pre></td></tr></table></figure>
<h4 id="获取Documents目录"><a href="#获取Documents目录" class="headerlink" title="获取Documents目录"></a>获取Documents目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString *documentsDirectory = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)[0];</span><br></pre></td></tr></table></figure>
<h4 id="获取tmp目录"><a href="#获取tmp目录" class="headerlink" title="获取tmp目录"></a>获取tmp目录</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSString *tmpPath = NSTemporaryDirectory();</span><br></pre></td></tr></table></figure>
<h4 id="利用Safari打开一个链接"><a href="#利用Safari打开一个链接" class="headerlink" title="利用Safari打开一个链接"></a>利用Safari打开一个链接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSURL *url = [NSURL URLWithString:@&quot;http://baidu.com&quot;];</span><br><span class="line">[[UIApplication sharedApplication] openURL:url];</span><br></pre></td></tr></table></figure>
<h4 id="利用UIWebView显示pdf文件，网页等等"><a href="#利用UIWebView显示pdf文件，网页等等" class="headerlink" title="利用UIWebView显示pdf文件，网页等等"></a>利用UIWebView显示pdf文件，网页等等</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;UIWebViewDelegate&gt;</span><br><span class="line"></span><br><span class="line">UIWebView *webView = [[UIWebView alloc]initWithFrame:self.view.bounds];</span><br><span class="line">webView.delegate = self;</span><br><span class="line">webView.scalesPageToFit = YES;</span><br><span class="line">webView.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleHeight;</span><br><span class="line">[webView setAllowsInlineMediaPlayback:YES];</span><br><span class="line">[self.view addSubview:webView];</span><br><span class="line">    </span><br><span class="line">NSString *pdfPath = [[NSBundle mainBundle] pathForResource:@&quot;book&quot; ofType:@&quot;pdf&quot;];</span><br><span class="line">NSURL *url = [NSURL fileURLWithPath:pdfPath];</span><br><span class="line">NSURLRequest *request = [NSURLRequest requestWithURL:url cachePolicy:(NSURLRequestUseProtocolCachePolicy) timeoutInterval:5];</span><br><span class="line">[webView loadRequest:request];</span><br></pre></td></tr></table></figure>
<h4 id="UIWebView和html的简单交互"><a href="#UIWebView和html的简单交互" class="headerlink" title="UIWebView和html的简单交互"></a>UIWebView和html的简单交互</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">myWebView = [[UIWebView alloc]initWithFrame:self.view.bounds];</span><br><span class="line">[myWebView loadRequest:[NSURLRequest requestWithURL:[NSURL URLWithString:@&quot;http://www.baidu.com&quot;]]];</span><br><span class="line">NSError *error;</span><br><span class="line">NSString *errorString = [NSString stringWithFormat:@&quot;&lt;html&gt;&lt;center&gt;&lt;font size=+5 color=&apos;red&apos;&gt;AnError Occurred;&lt;br&gt;%@&lt;/font&gt;&lt;/center&gt;&lt;/html&gt;&quot;,error];</span><br><span class="line">[myWebView loadHTMLString:errorString baseURL:nil];</span><br><span class="line"></span><br><span class="line">//页面跳转了以后，停止载入</span><br><span class="line">-(void)viewWillDisappear:(BOOL)animated &#123;</span><br><span class="line">    if (myWebView.isLoading) &#123;</span><br><span class="line">        [myWebView stopLoading];</span><br><span class="line">    &#125;</span><br><span class="line">    myWebView.delegate = nil;</span><br><span class="line">    [UIApplication sharedApplication].networkActivityIndicatorVisible = NO;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="汉字转码"><a href="#汉字转码" class="headerlink" title="汉字转码"></a>汉字转码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">NSString *oriString = @&quot;\u67aa\u738b&quot;;</span><br><span class="line">NSString *escapedString = [oriString stringByReplacingPercentEscapesUsingEncoding:NSUTF8StringEncoding];</span><br></pre></td></tr></table></figure>
<h4 id="处理键盘通知"><a href="#处理键盘通知" class="headerlink" title="处理键盘通知"></a>处理键盘通知</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">先注册通知，然后实现具体当键盘弹出来要做什么，键盘收起来要做什么</span><br><span class="line">- (void)registerForKeyboardNotifications &#123;</span><br><span class="line">    keyboardShown = NO;//标记当前键盘是没有显示的</span><br><span class="line">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWasShown:) name:UIKeyboardWillShowNotification object:nil];</span><br><span class="line">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(keyboardWasHidden:) name:UIKeyboardDidHideNotification object:nil];</span><br><span class="line">&#125;</span><br><span class="line">//键盘显示要做什么</span><br><span class="line">- (void)keyboardWasShown:(NSNotification *)notification &#123;</span><br><span class="line">    if (keyboardShown) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    NSDictionary *info = [notification userInfo];</span><br><span class="line">    </span><br><span class="line">    NSValue *aValue = [info objectForKey:UIKeyboardFrameBeginUserInfoKey];</span><br><span class="line">    CGSize keyboardSize = [aValue CGRectValue].size;</span><br><span class="line">    CGRect viewFrame = scrollView.frame;</span><br><span class="line">    viewFrame.size.height = keyboardSize.height;</span><br><span class="line">    </span><br><span class="line">    CGRect textFieldRect = activeField.frame;</span><br><span class="line">    [scrollView scrollRectToVisible:textFieldRect animated:YES];</span><br><span class="line">    keyboardShown = YES;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)keyboardWasHidden:(NSNotification *)notification &#123;</span><br><span class="line">    NSDictionary *info = [notification userInfo];</span><br><span class="line">    NSValue *aValue = [info objectForKey:UIKeyboardFrameEndUserInfoKey];</span><br><span class="line">    CGSize keyboardSize = [aValue CGRectValue].size;</span><br><span class="line">    </span><br><span class="line">    CGRect viewFrame = scrollView.frame;</span><br><span class="line">    viewFrame.size.height += keyboardSize.height;</span><br><span class="line">    scrollView.frame = viewFrame;</span><br><span class="line">    </span><br><span class="line">    keyboardShown = NO;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="点击键盘的next按钮，在不同的textField之间换行"><a href="#点击键盘的next按钮，在不同的textField之间换行" class="headerlink" title="点击键盘的next按钮，在不同的textField之间换行"></a>点击键盘的next按钮，在不同的textField之间换行</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (BOOL)textFieldShouldReturn:(UITextField *)textField &#123;</span><br><span class="line">    </span><br><span class="line">    if ([textField returnKeyType] != UIReturnKeyDone) &#123;</span><br><span class="line">        NSInteger nextTag = [textField tag] + 1;</span><br><span class="line">        UIView *nextTextField = [self.tableView viewWithTag:nextTag];</span><br><span class="line">        [nextTextField becomeFirstResponder];</span><br><span class="line">    &#125;else &#123;</span><br><span class="line">        [textField resignFirstResponder];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="设置日期格式"><a href="#设置日期格式" class="headerlink" title="设置日期格式"></a>设置日期格式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dateFormatter = [[NSDateFormatter alloc]init];</span><br><span class="line">dateFormatter.locale = [NSLocale currentLocale];</span><br><span class="line">dateFormatter.calendar = [NSCalendar autoupdatingCurrentCalendar];</span><br><span class="line">dateFormatter.timeZone = [NSTimeZone defaultTimeZone];</span><br><span class="line">dateFormatter.dateStyle = NSDateFormatterShortStyle;</span><br><span class="line">NSLog(@&quot;%@&quot;,[dateFormatter stringFromDate:[NSDate date]]);</span><br></pre></td></tr></table></figure>
<h4 id="加载大量图片的时候，可以使用"><a href="#加载大量图片的时候，可以使用" class="headerlink" title="加载大量图片的时候，可以使用"></a>加载大量图片的时候，可以使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSString *imagePath = [[NSBundle mainBundle] pathForResource:@&quot;icon&quot; ofType:@&quot;png&quot;];</span><br><span class="line">UIImage *myImage = [UIImage imageWithContentsOfFile:imagePath];</span><br></pre></td></tr></table></figure>
<h4 id="有时候在iPhone游戏中，既要播放背景音乐，同时又要播放比如枪的开火音效。"><a href="#有时候在iPhone游戏中，既要播放背景音乐，同时又要播放比如枪的开火音效。" class="headerlink" title="有时候在iPhone游戏中，既要播放背景音乐，同时又要播放比如枪的开火音效。"></a>有时候在iPhone游戏中，既要播放背景音乐，同时又要播放比如枪的开火音效。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NSString *musicFilePath = [[NSBundle mainBundle] pathForResource:@&quot;xx&quot; ofType:@&quot;wav&quot;];</span><br><span class="line">NSURL *musicURL = [NSURL fileURLWithPath:musicFilePath];</span><br><span class="line">AVAudioPlayer *musicPlayer = [[AVAudioPlayer alloc]initWithContentsOfURL:musicURL error:nil];</span><br><span class="line">[musicPlayer prepareToPlay];</span><br><span class="line">musicPlayer.volume = 1;</span><br><span class="line">musicPlayer.numberOfLoops = -1;//-1表示一直循环</span><br></pre></td></tr></table></figure>
<h4 id="从通讯录中读取电话号码，去掉数字之间的"><a href="#从通讯录中读取电话号码，去掉数字之间的" class="headerlink" title="从通讯录中读取电话号码，去掉数字之间的-"></a>从通讯录中读取电话号码，去掉数字之间的-</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">NSString *originalString = @&quot;(123)123123abc&quot;;</span><br><span class="line">NSMutableString *strippedString = [NSMutableString stringWithCapacity:originalString.length];</span><br><span class="line">NSScanner *scanner = [NSScanner scannerWithString:originalString];</span><br><span class="line">NSCharacterSet *numbers = [NSCharacterSet characterSetWithCharactersInString:@&quot;0123456789&quot;];</span><br><span class="line"></span><br><span class="line">    while ([scanner isAtEnd] == NO) &#123;</span><br><span class="line">        NSString *buffer;</span><br><span class="line">        if ([scanner scanCharactersFromSet:numbers intoString:&amp;buffer]) &#123;</span><br><span class="line">            [strippedString appendString:buffer];</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            scanner.scanLocation = [scanner scanLocation] + 1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    NSLog(@&quot;%@&quot;,strippedString);</span><br></pre></td></tr></table></figure>
<h4 id="字符串是否为空"><a href="#字符串是否为空" class="headerlink" title="字符串是否为空"></a>字符串是否为空</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">- (BOOL) isBlankString:(NSString *)string &#123;</span><br><span class="line">    if (string == nil || string == NULL) &#123;</span><br><span class="line">        return YES;</span><br><span class="line">    &#125;</span><br><span class="line">    if ([string isKindOfClass:[NSNull class]]) &#123;</span><br><span class="line">        return YES;</span><br><span class="line">    &#125;</span><br><span class="line">    if ([[string stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceCharacterSet]] length]==0) &#123;</span><br><span class="line">        return YES;</span><br><span class="line">    &#125;</span><br><span class="line">    return NO;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="正则判断：字符串只包含字母和数字"><a href="#正则判断：字符串只包含字母和数字" class="headerlink" title="正则判断：字符串只包含字母和数字"></a>正则判断：字符串只包含字母和数字</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">NSString *myString = @&quot;Letter1234&quot;;</span><br><span class="line">NSString *regex = @&quot;[a-z][A-Z][0-9]&quot;;</span><br><span class="line">NSPredicate *predicate = [NSPredicate predicateWithFormat:@&quot;SELF MATCHES %@&quot;,regex];</span><br><span class="line"></span><br><span class="line">    if ([predicate evaluateWithObject:myString]) &#123;</span><br><span class="line">        //implement</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="设置UITableView的滚动条颜色"><a href="#设置UITableView的滚动条颜色" class="headerlink" title="设置UITableView的滚动条颜色"></a>设置<code>UITableView</code>的滚动条颜色</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.tableView.indicatorStyle = UIScrollViewIndicatorStyleWhite;</span><br></pre></td></tr></table></figure>
<h4 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h4><p>开发web等网络应用程序的时候，需要确认网络环境，连接情况等信息。如果没有处理它们，是不会通过apple的审查的。<br>系统自带的网络检查是原生的，AFNetworking也为我们添加了相关检测机制，所以这个直接在介绍AFNetworking的时候详解吧。</p>
<h4 id="使用NSURLConnection下载数据"><a href="#使用NSURLConnection下载数据" class="headerlink" title="使用NSURLConnection下载数据"></a>使用<code>NSURLConnection</code>下载数据</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">1. 创建对象</span><br><span class="line">NSMutableURLRequest *request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:@&quot;http://www.baidu.com&quot;]];</span><br><span class="line">[NSURLConnection connectionWithRequest:request delegate:self];</span><br><span class="line"></span><br><span class="line">2. NSURLConnection delegate 委托方法</span><br><span class="line">- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)connectionDidFinishLoading:(NSURLConnection *)connection &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">3. 实现委托方法</span><br><span class="line">- (void)connection:(NSURLConnection *)connection didReceiveResponse:(NSURLResponse *)response &#123;</span><br><span class="line">    self.receiveData.length = 0;//先清空数据</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)connection:(NSURLConnection *)connection didReceiveData:(NSData *)data &#123;</span><br><span class="line">    [self.receiveData appendData:data];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)connection:(NSURLConnection *)connection didFailWithError:(NSError *)error &#123;</span><br><span class="line">    //错误处理</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)connectionDidFinishLoading:(NSURLConnection *)connection &#123;</span><br><span class="line">    [UIApplication sharedApplication].networkActivityIndicatorVisible = NO;</span><br><span class="line">    NSString *returnString = [[NSString alloc]initWithData:self.receiveData encoding:NSUTF8StringEncoding];</span><br><span class="line">    firstTimeDownloaded = YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="隐藏状态栏-1"><a href="#隐藏状态栏-1" class="headerlink" title="隐藏状态栏"></a>隐藏状态栏</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[UIApplication sharedApplication].statusBarHidden = YES;</span><br></pre></td></tr></table></figure>
<h4 id="m文件与-mm文件的区别"><a href="#m文件与-mm文件的区别" class="headerlink" title=".m文件与.mm文件的区别"></a>.m文件与.mm文件的区别</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.m文件是objective-c文件</span><br><span class="line">.mm文件相当于c++或者c文件</span><br></pre></td></tr></table></figure>
<h4 id="Safari其实没有把内存的缓存写到存储卡上"><a href="#Safari其实没有把内存的缓存写到存储卡上" class="headerlink" title="Safari其实没有把内存的缓存写到存储卡上"></a>Safari其实没有把内存的缓存写到存储卡上</h4><h4 id="读取一般性文件"><a href="#读取一般性文件" class="headerlink" title="读取一般性文件"></a>读取一般性文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">- (void)readFromTXT &#123;</span><br><span class="line">    NSString *tmp;</span><br><span class="line">    NSArray *lines;//将文件转化为一行一行的</span><br><span class="line">    lines = [[NSString stringWithContentsOfFile:@&quot;testFileReadLines.txt&quot;] componentsSeparatedByString:@&quot;\n&quot;];</span><br><span class="line">    </span><br><span class="line">    NSEnumerator *nse = [lines objectEnumerator];</span><br><span class="line">    </span><br><span class="line">    //读取&lt;&gt;里的内容</span><br><span class="line">    while (tmp == [nse nextObject]) &#123;</span><br><span class="line">        NSString *stringBetweenBrackets = nil;</span><br><span class="line">        NSScanner *scanner = [NSScanner scannerWithString:tmp];</span><br><span class="line">        [scanner scanUpToString:@&quot;&lt;&quot; intoString:nil];</span><br><span class="line">        [scanner scanString:@&quot;&lt;&quot; intoString:nil];</span><br><span class="line">        [scanner scanUpToString:@&quot;&gt;&quot; intoString:&amp;stringBetweenBrackets];</span><br><span class="line">        NSLog(@&quot;%@&quot;,[stringBetweenBrackets description]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="隐藏UINavigationBar"><a href="#隐藏UINavigationBar" class="headerlink" title="隐藏UINavigationBar"></a>隐藏<code>UINavigationBar</code></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> [self.navigationController setNavigationBarHidden:YES animated:YES];</span><br></pre></td></tr></table></figure>
<h4 id="调用电话，短信，邮件"><a href="#调用电话，短信，邮件" class="headerlink" title="调用电话，短信，邮件"></a>调用电话，短信，邮件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[UIApplication sharedApplication] openURL:[NSURL URLWithString:@&quot;mailto:apple@mac.com?Subject=hello&quot;]];</span><br><span class="line">sms://调用短信</span><br><span class="line">tel://调用电话</span><br><span class="line">itms://打开MobileStore.app</span><br></pre></td></tr></table></figure>
<h4 id="获取版本信息"><a href="#获取版本信息" class="headerlink" title="获取版本信息"></a>获取版本信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UIDevice *myDevice = [UIDevice currentDevice];</span><br><span class="line">NSString *systemVersion = myDevice.systemVersion;</span><br></pre></td></tr></table></figure>
<h4 id="UIWebView的使用"><a href="#UIWebView的使用" class="headerlink" title="UIWebView的使用"></a><code>UIWebView</code>的使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;UIWebViewDelegate&gt;</span><br><span class="line"></span><br><span class="line">webView.delegate = self;</span><br><span class="line"></span><br><span class="line">(BOOL)webView:(UIWebView *)webView shouldStartLoadWithRequest:(NSURLRequest *)request navigationType:(UIWebViewNavigationType)navigationType &#123;</span><br><span class="line">    NSURL *url = request.URL;</span><br><span class="line">    NSString *urlStirng = url.absoluteString;</span><br><span class="line">    NSLog(@&quot;%@&quot;,urlStirng);</span><br><span class="line">    return YES;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>UIButton</code>的<code>title</code>和<code>image</code>不能同时显示<br><code>UINavigationItem</code>也是</p>
<p>不要再语言包里面设置空格</p>
<h4 id="NSNotificationCenter带参数发送"><a href="#NSNotificationCenter带参数发送" class="headerlink" title="NSNotificationCenter带参数发送"></a><code>NSNotificationCenter</code>带参数发送</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">MPMoviePlayerController *theMovie = [[MPMoviePlayerController alloc]initWithContentURL:[NSURL fileURLWithPath:moviePath]];</span><br><span class="line">[[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(myMovieFinishedCallback:) name:MPMoviePlayerPlaybackDidFinishNotification object:theMovie];</span><br><span class="line">[theMovie play];</span><br><span class="line"></span><br><span class="line">- (void)myMovieFinishedCallback:(NSNotification *)aNotification &#123;</span><br><span class="line">    MPMoviePlayerController *theMovie = [aNotification object];</span><br><span class="line">    [[NSNotificationCenter defaultCenter] removeObserver:self name:MPMoviePlayerPlaybackDidFinishNotification object:theMovie];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="延迟一段时间执行某个函数"><a href="#延迟一段时间执行某个函数" class="headerlink" title="延迟一段时间执行某个函数"></a>延迟一段时间执行某个函数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[self performSelector:@selector(dismissModal) withObject:self afterDelay:1.0];</span><br></pre></td></tr></table></figure>
<h4 id="用NSDateFormatter调整时间格式代码"><a href="#用NSDateFormatter调整时间格式代码" class="headerlink" title="用NSDateFormatter调整时间格式代码"></a>用<code>NSDateFormatter</code>调整时间格式代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">NSDateFormatter *dateFormatter = [[NSDateFormatter alloc]init];</span><br><span class="line">dateFormatter.dateFormat = @&quot;yyyy-MM-dd HH:mm:ss&quot;;</span><br><span class="line">NSString *currentDateStr = [dateFormatter stringFromDate:[NSDate date]];</span><br></pre></td></tr></table></figure>
<h4 id="UIView设置成圆角的方法"><a href="#UIView设置成圆角的方法" class="headerlink" title="UIView设置成圆角的方法"></a><code>UIView</code>设置成圆角的方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mainView.layer.cornerRadius = 6;</span><br><span class="line">mainView.layer.masksToBounds = YES;</span><br></pre></td></tr></table></figure>
<h4 id="Objective-C-内存管理"><a href="#Objective-C-内存管理" class="headerlink" title="Objective-C 内存管理"></a>Objective-C 内存管理</h4><ol>
<li>一个对象可以有一个或多个拥有者</li>
<li>当它一个拥有者都没有的时候，它就会被回收</li>
<li>如果想保留一个对象不被回收，你就必须成为它的拥有者</li>
</ol>
<h4 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h4><ol>
<li>alloc<br>为对象分配内存，计数设为1，并返回此对象。</li>
</ol>
<ul>
<li>copy<br>复制一个对象，此对象计数为1，返回此对象。你将成为此克隆对象的拥有者。</li>
<li>retain<br>对象计数+1，并成为次对象的拥有者。</li>
<li>release<br>对象计数-1，并丢掉此对象。</li>
<li>autorelease<br>在未来的某一个时刻，对象计数-1。并在未来的某个时间放弃此对象。</li>
</ul>
<h4 id="原则"><a href="#原则" class="headerlink" title="原则"></a>原则</h4><ol>
<li>一个代码块内要确保copy，alloc 和 retain 的使用数量与 release 和 autorelease 的数量相等。</li>
</ol>
<ul>
<li>在使用以 alloc 或 new 开头或包含 copy 的方法，或 retain 一个对象时，你将会编程它的拥有者。</li>
<li>实现 dealloc 方法，这是系统当 retain -&gt; 0 的时候，自动调用的。手动调用会引起 retain count 计数错误（多一次的 release）。</li>
</ul>
<h4 id="iPhone-更改键盘右下角按键的-type"><a href="#iPhone-更改键盘右下角按键的-type" class="headerlink" title="iPhone 更改键盘右下角按键的 type"></a>iPhone 更改键盘右下角按键的 type</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">SearchBar *mySearchBar = [[UISearchBar alloc]init];</span><br><span class="line">mySearchBar.frame = CGRectMake(0, 0, self.view.bounds.size.width, 44);</span><br><span class="line">mySearchBar.placeholder = @&quot;placeholderString&quot;;</span><br><span class="line">mySearchBar.delegate = self;</span><br><span class="line">[self.view addSubview:mySearchBar];</span><br><span class="line">UITextField *searchField = [[mySearchBar subviews] lastObject];</span><br><span class="line">searchField.returnKeyType = UIReturnKeyDone;</span><br></pre></td></tr></table></figure>
<h4 id="tableView左滑出多个按钮"><a href="#tableView左滑出多个按钮" class="headerlink" title="tableView左滑出多个按钮"></a>tableView左滑出多个按钮</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">NSArray</span> *)tableView:(<span class="built_in">UITableView</span> *)tableView editActionsForRowAtIndexPath:(<span class="built_in">NSIndexPath</span> *)indexPath</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//删除按钮</span></span><br><span class="line">    <span class="built_in">UITableViewRowAction</span> *deleteRowAction = [<span class="built_in">UITableViewRowAction</span> rowActionWithStyle:<span class="built_in">UITableViewRowActionStyleDefault</span> title:<span class="string">@"删除"</span> handler:^(<span class="built_in">UITableViewRowAction</span> * _Nonnull action, <span class="built_in">NSIndexPath</span> * _Nonnull indexPath)&#123;</span><br><span class="line">        [_dataArray removeObjectAtIndex:indexPath.row];</span><br><span class="line">        [tableView deleteRowsAtIndexPaths:@[indexPath]withRowAnimation:<span class="built_in">UITableViewRowAnimationAutomatic</span>];</span><br><span class="line">    &#125;];</span><br><span class="line">     </span><br><span class="line"> </span><br><span class="line">    <span class="comment">//置顶按钮</span></span><br><span class="line">    <span class="built_in">UITableViewRowAction</span> *toTopRowAction = [<span class="built_in">UITableViewRowAction</span> rowActionWithStyle:<span class="built_in">UITableViewRowActionStyleDefault</span> title:<span class="string">@"置顶"</span> handler:^(<span class="built_in">UITableViewRowAction</span> * _Nonnull action, <span class="built_in">NSIndexPath</span> * _Nonnull indexPath)&#123;</span><br><span class="line">         </span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"置顶"</span>);</span><br><span class="line">         </span><br><span class="line">    &#125;];</span><br><span class="line">    toTopRowAction.backgroundColor = [<span class="built_in">UIColor</span> orangeColor];</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//其他按钮</span></span><br><span class="line">    <span class="built_in">UITableViewRowAction</span> *otherRowAction = [<span class="built_in">UITableViewRowAction</span> rowActionWithStyle:<span class="built_in">UITableViewRowActionStyleDefault</span> title:<span class="string">@"其他"</span> handler:^(<span class="built_in">UITableViewRowAction</span> * _Nonnull action, <span class="built_in">NSIndexPath</span> * _Nonnull indexPath)&#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"其他"</span>);</span><br><span class="line">    &#125;];</span><br><span class="line"> </span><br><span class="line">    otherRowAction.backgroundColor = [<span class="built_in">UIColor</span> lightGrayColor];</span><br><span class="line"> </span><br><span class="line">    <span class="comment">//返回按钮数组</span></span><br><span class="line">    <span class="keyword">return</span> @[deleteRowAction, toTopRowAction, otherRowAction];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="给图片增加模糊效果"><a href="#给图片增加模糊效果" class="headerlink" title="给图片增加模糊效果"></a>给图片增加模糊效果</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//加模糊效果，image是图片，blur是模糊度</span></span><br><span class="line">+ (<span class="built_in">UIImage</span> *)blurryImage:(<span class="built_in">UIImage</span> *)image withBlurLevel:(<span class="built_in">CGFloat</span>)blur &#123;</span><br><span class="line">    <span class="comment">//模糊度,</span></span><br><span class="line">    <span class="keyword">if</span> ((blur &lt; <span class="number">0.1</span>f) || (blur &gt; <span class="number">2.0</span>f)) &#123;</span><br><span class="line">        blur = <span class="number">0.1</span>f;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//boxSize必须大于0</span></span><br><span class="line">    <span class="keyword">int</span> boxSize = (<span class="keyword">int</span>)(blur * <span class="number">100</span>);</span><br><span class="line">    boxSize -= (boxSize % <span class="number">2</span>) + <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"boxSize:%i"</span>,boxSize);</span><br><span class="line">    <span class="comment">//图像处理</span></span><br><span class="line">    <span class="built_in">CGImageRef</span> img = image.CGImage;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//图像缓存,输入缓存，输出缓存</span></span><br><span class="line">    vImage_Buffer inBuffer, outBuffer;</span><br><span class="line">    vImage_Error error;</span><br><span class="line">    <span class="comment">//像素缓存</span></span><br><span class="line">    <span class="keyword">void</span> *pixelBuffer;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//数据源提供者，Defines an opaque type that supplies Quartz with data.</span></span><br><span class="line">    <span class="built_in">CGDataProviderRef</span> inProvider = <span class="built_in">CGImageGetDataProvider</span>(img);</span><br><span class="line">    <span class="comment">// provider’s data.</span></span><br><span class="line">    <span class="built_in">CFDataRef</span> inBitmapData = <span class="built_in">CGDataProviderCopyData</span>(inProvider);</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//宽，高，字节/行，data</span></span><br><span class="line">    inBuffer.width = <span class="built_in">CGImageGetWidth</span>(img);</span><br><span class="line">    inBuffer.height = <span class="built_in">CGImageGetHeight</span>(img);</span><br><span class="line">    inBuffer.rowBytes = <span class="built_in">CGImageGetBytesPerRow</span>(img);</span><br><span class="line">    inBuffer.data = (<span class="keyword">void</span>*)<span class="built_in">CFDataGetBytePtr</span>(inBitmapData);</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//像数缓存，字节行*图片高</span></span><br><span class="line">    pixelBuffer = malloc(<span class="built_in">CGImageGetBytesPerRow</span>(img) * <span class="built_in">CGImageGetHeight</span>(img));</span><br><span class="line">     </span><br><span class="line">    outBuffer.data = pixelBuffer;</span><br><span class="line">    outBuffer.width = <span class="built_in">CGImageGetWidth</span>(img);</span><br><span class="line">    outBuffer.height = <span class="built_in">CGImageGetHeight</span>(img);</span><br><span class="line">    outBuffer.rowBytes = <span class="built_in">CGImageGetBytesPerRow</span>(img);</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">    <span class="comment">// 第三个中间的缓存区,抗锯齿的效果</span></span><br><span class="line">    <span class="keyword">void</span> *pixelBuffer2 = malloc(<span class="built_in">CGImageGetBytesPerRow</span>(img) * <span class="built_in">CGImageGetHeight</span>(img));</span><br><span class="line">    vImage_Buffer outBuffer2;</span><br><span class="line">    outBuffer2.data = pixelBuffer2;</span><br><span class="line">    outBuffer2.width = <span class="built_in">CGImageGetWidth</span>(img);</span><br><span class="line">    outBuffer2.height = <span class="built_in">CGImageGetHeight</span>(img);</span><br><span class="line">    outBuffer2.rowBytes = <span class="built_in">CGImageGetBytesPerRow</span>(img);</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//Convolves a region of interest within an ARGB8888 source image by an implicit M x N kernel that has the effect of a box filter.</span></span><br><span class="line">    error = vImageBoxConvolve_ARGB8888(&amp;inBuffer;, &amp;outBuffer2;, <span class="literal">NULL</span>, <span class="number">0</span>, <span class="number">0</span>, boxSize, boxSize, <span class="literal">NULL</span>, kvImageEdgeExtend);</span><br><span class="line">    error = vImageBoxConvolve_ARGB8888(&amp;outBuffer2;, &amp;inBuffer;, <span class="literal">NULL</span>, <span class="number">0</span>, <span class="number">0</span>, boxSize, boxSize, <span class="literal">NULL</span>, kvImageEdgeExtend);</span><br><span class="line">    error = vImageBoxConvolve_ARGB8888(&amp;inBuffer;, &amp;outBuffer;, <span class="literal">NULL</span>, <span class="number">0</span>, <span class="number">0</span>, boxSize, boxSize, <span class="literal">NULL</span>, kvImageEdgeExtend);</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">    <span class="keyword">if</span> (error) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"error from convolution %ld"</span>, error);</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//    NSLog(@"字节组成部分：%zu",CGImageGetBitsPerComponent(img));</span></span><br><span class="line">    <span class="comment">//颜色空间DeviceRGB</span></span><br><span class="line">    <span class="built_in">CGColorSpaceRef</span> colorSpace = <span class="built_in">CGColorSpaceCreateDeviceRGB</span>();</span><br><span class="line">    <span class="comment">//用图片创建上下文,CGImageGetBitsPerComponent(img),7,8</span></span><br><span class="line">    <span class="built_in">CGContextRef</span> ctx = <span class="built_in">CGBitmapContextCreate</span>(</span><br><span class="line">                                             outBuffer.data,</span><br><span class="line">                                             outBuffer.width,</span><br><span class="line">                                             outBuffer.height,</span><br><span class="line">                                             <span class="number">8</span>,</span><br><span class="line">                                             outBuffer.rowBytes,</span><br><span class="line">                                             colorSpace,</span><br><span class="line">                                             <span class="built_in">CGImageGetBitmapInfo</span>(image.CGImage));</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//根据上下文，处理过的图片，重新组件</span></span><br><span class="line">    <span class="built_in">CGImageRef</span> imageRef = <span class="built_in">CGBitmapContextCreateImage</span> (ctx);</span><br><span class="line">    <span class="built_in">UIImage</span> *returnImage = [<span class="built_in">UIImage</span> imageWithCGImage:imageRef];</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//clean up</span></span><br><span class="line">    <span class="built_in">CGContextRelease</span>(ctx);</span><br><span class="line">    <span class="built_in">CGColorSpaceRelease</span>(colorSpace);</span><br><span class="line">     </span><br><span class="line">    free(pixelBuffer);</span><br><span class="line">    free(pixelBuffer2);</span><br><span class="line">    <span class="built_in">CFRelease</span>(inBitmapData);</span><br><span class="line">    <span class="built_in">CGImageRelease</span>(imageRef);</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> returnImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="网易新闻头部滚动切换"><a href="#网易新闻头部滚动切换" class="headerlink" title="网易新闻头部滚动切换"></a>网易新闻头部滚动切换</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)titleButtonDidClick:(<span class="built_in">UIButton</span> *)titleButton</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">self</span>.mainScrollView.contentOffset  = <span class="built_in">CGPointMake</span>(kScreenWidth * titleButton.tag, <span class="number">0</span>);</span><br><span class="line">    [<span class="built_in">UIView</span> animateWithDuration:<span class="number">0.5</span> animations:^&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">self</span>.titleScrollView.contentOffset.x &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.titleScrollView.contentOffset = <span class="built_in">CGPointMake</span>(titleButton.x - <span class="number">150</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 先改变contentOffset，若偏移则修正</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">self</span>.titleScrollView.contentOffset.x &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">self</span>.titleScrollView.contentOffset = <span class="built_in">CGPointZero</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">self</span>.titleScrollView.contentOffset.x &gt;= <span class="number">2</span> * <span class="number">900</span> - kScreenWidth) &#123;</span><br><span class="line">    <span class="keyword">self</span>.titleScrollView.contentOffset = <span class="built_in">CGPointMake</span>(<span class="number">2</span> * <span class="number">900</span> - kScreenWidth, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="七牛上传图片的简单封装"><a href="#七牛上传图片的简单封装" class="headerlink" title="七牛上传图片的简单封装"></a>七牛上传图片的简单封装</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#import <span class="meta-string">"QiNiuTool.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"JKRAccountTool.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"JKRAccount.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"QiniuSDK.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">"QiNiuUpLoadResult.h"</span></span></span><br><span class="line"><span class="meta">#import <span class="meta-string">&lt;UIKit/UIKit.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">@implementation</span> <span class="title">QiNiuTool</span></span></span><br><span class="line"> </span><br><span class="line">+ (<span class="keyword">void</span>)uploadImages:(<span class="built_in">NSArray</span> *)images complete:(<span class="keyword">void</span> (^)(<span class="built_in">NSDictionary</span> *))complete</span><br><span class="line">&#123;</span><br><span class="line">    QNUploadManager *qnm = [[QNUploadManager alloc] init];</span><br><span class="line">    <span class="built_in">NSDateFormatter</span> *mattter = [[<span class="built_in">NSDateFormatter</span> alloc]init];</span><br><span class="line">    [mattter setDateFormat:<span class="string">@"yyyyMMddHHmmss"</span>];</span><br><span class="line">    <span class="built_in">NSString</span> *Nowdate = [mattter stringFromDate:[<span class="built_in">NSDate</span> date]];</span><br><span class="line">     </span><br><span class="line">    QiNiuUpLoadResult *result = [[QiNiuUpLoadResult alloc] init];</span><br><span class="line">     </span><br><span class="line">    __block <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; images.count; i++) &#123;</span><br><span class="line">         </span><br><span class="line">        <span class="built_in">UIImage</span> *image = images[i];</span><br><span class="line">         </span><br><span class="line">        <span class="built_in">NSData</span> *uploadData = <span class="built_in">UIImageJPEGRepresentation</span>(image, <span class="number">1</span>);</span><br><span class="line">         </span><br><span class="line">        <span class="comment">//这里对大图片做了压缩，不需要的话下面直接传uploadData就好</span></span><br><span class="line">        <span class="built_in">NSData</span> *cutdownData = <span class="literal">nil</span>;</span><br><span class="line">        <span class="keyword">if</span> (uploadData.length &lt; <span class="number">9999</span>) &#123;</span><br><span class="line">            cutdownData = <span class="built_in">UIImageJPEGRepresentation</span>(image, <span class="number">1.0</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (uploadData.length &lt; <span class="number">99999</span>) &#123;</span><br><span class="line">            cutdownData = <span class="built_in">UIImageJPEGRepresentation</span>(image, <span class="number">0.6</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            cutdownData = <span class="built_in">UIImageJPEGRepresentation</span>(image, <span class="number">0.3</span>);</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">        <span class="comment">//[JKRAccountTool getAccount].token:token</span></span><br><span class="line">        [qnm putData:cutdownData key:[<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@%d"</span>, Nowdate, i+<span class="number">1</span>] token:[JKRAccountTool getAccount].token complete:^(QNResponseInfo *info, <span class="built_in">NSString</span> *key, <span class="built_in">NSDictionary</span> *resp) &#123;</span><br><span class="line">             </span><br><span class="line">            count++;</span><br><span class="line">             </span><br><span class="line">            <span class="built_in">NSString</span> *resultKey = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%d"</span>,i];</span><br><span class="line">             </span><br><span class="line">            result.keys[resultKey] = [resp objectForKey:<span class="string">@"key"</span>];</span><br><span class="line">             </span><br><span class="line">            <span class="keyword">if</span> (count == images.count) &#123;</span><br><span class="line">                complete(result.keys);</span><br><span class="line">            &#125;</span><br><span class="line">             </span><br><span class="line">        &#125; option:<span class="literal">nil</span>];</span><br><span class="line">         </span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">@end</span></span><br></pre></td></tr></table></figure>
<h4 id="导航条渐隐渐现"><a href="#导航条渐隐渐现" class="headerlink" title="导航条渐隐渐现"></a>导航条渐隐渐现</h4><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[<span class="name">_tableView</span> addObserver: self forKeyPath: @<span class="string">"contentOffset"</span> options: NSKeyValueObservingOptionNew context:nil]<span class="comment">;</span></span><br><span class="line"> </span><br><span class="line">- (<span class="name">void</span>)observeValueForKeyPath:(<span class="name">NSString</span> *)keyPath ofObject:(<span class="name">id</span>)object change:(<span class="name">NSDictionary&lt;NSString</span> *,id&gt; *)change context:(<span class="name">void</span> *)context&#123;</span><br><span class="line">    CGFloat offset=_tableView.contentOffset.y<span class="comment">;</span></span><br><span class="line">    NSLog(<span class="name">@</span><span class="string">"offset:%f"</span>,offset)<span class="comment">;//越来越大  想要实现效果：一开始全显示，后来颜色变浅</span></span><br><span class="line">    CGFloat delta=1-offset/100.f<span class="comment">;</span></span><br><span class="line">    delta=MIN(<span class="name">1</span>,delta)<span class="comment">;</span></span><br><span class="line">    NSLog(<span class="name">@</span><span class="string">"%f"</span>,delta)<span class="comment">;</span></span><br><span class="line">    self.navigationController.navigationBar.alpha=MIN(<span class="name">1</span>,delta)<span class="comment">;</span></span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="图片压缩"><a href="#图片压缩" class="headerlink" title="图片压缩"></a>图片压缩</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">用法：<span class="built_in">UIImage</span> *yourImage= [<span class="keyword">self</span> imageWithImageSimple:image scaledToSize:<span class="built_in">CGSizeMake</span>(<span class="number">210.0</span>, <span class="number">210.0</span>)];</span><br><span class="line"><span class="comment">//压缩图片</span></span><br><span class="line">- (<span class="built_in">UIImage</span>*)imageWithImageSimple:(<span class="built_in">UIImage</span>*)image scaledToSize:(<span class="built_in">CGSize</span>)newSize</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// Create a graphics image context</span></span><br><span class="line"><span class="built_in">UIGraphicsBeginImageContext</span>(newSize);</span><br><span class="line"><span class="comment">// Tell the old image to draw in this newcontext, with the desired</span></span><br><span class="line"><span class="comment">// new size</span></span><br><span class="line">[image drawInRect:<span class="built_in">CGRectMake</span>(<span class="number">0</span>,<span class="number">0</span>,newSize.width,newSize.height)];</span><br><span class="line"><span class="comment">// Get the new image from the context</span></span><br><span class="line"><span class="built_in">UIImage</span>* newImage = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line"><span class="comment">// End the context</span></span><br><span class="line"><span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line"><span class="comment">// Return the new image.</span></span><br><span class="line"><span class="keyword">return</span> newImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="图片裁剪，类似新浪微博小图显示效果"><a href="#图片裁剪，类似新浪微博小图显示效果" class="headerlink" title="图片裁剪，类似新浪微博小图显示效果"></a>图片裁剪，类似新浪微博小图显示效果</h4><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">CGSize asize = CGSizeMake(<span class="number">300</span>, <span class="number">300</span>);</span><br><span class="line">    UIImage *newimage;</span><br><span class="line">    UIImage *<span class="built_in">image</span> = [UIImage imageNamed:@<span class="string">""</span>];</span><br><span class="line">    <span class="built_in">if</span> (nil == <span class="built_in">image</span>) &#123;</span><br><span class="line">        newimage = nil;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">else</span>&#123;</span><br><span class="line">        CGSize oldsize = <span class="built_in">image</span>.<span class="built_in">size</span>;</span><br><span class="line">        CGRect <span class="built_in">rect</span>;</span><br><span class="line">        <span class="built_in">if</span> (asize.<span class="built_in">width</span>/asize.<span class="built_in">height</span> &gt; oldsize.<span class="built_in">width</span>/oldsize.<span class="built_in">height</span>) &#123;</span><br><span class="line">            <span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">width</span> = asize.<span class="built_in">width</span>;</span><br><span class="line">            <span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">height</span> = asize.<span class="built_in">width</span>*oldsize.<span class="built_in">height</span>/oldsize.<span class="built_in">width</span>;</span><br><span class="line">            <span class="built_in">rect</span>.origin.x = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">rect</span>.origin.y = (asize.<span class="built_in">height</span> - <span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">height</span>)/<span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">else</span>&#123;</span><br><span class="line">            <span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">width</span> = asize.<span class="built_in">height</span>*oldsize.<span class="built_in">width</span>/oldsize.<span class="built_in">height</span>;</span><br><span class="line">            <span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">height</span> = asize.<span class="built_in">height</span>;</span><br><span class="line">            <span class="built_in">rect</span>.origin.x = (asize.<span class="built_in">width</span> - <span class="built_in">rect</span>.<span class="built_in">size</span>.<span class="built_in">width</span>)/<span class="number">2</span>;</span><br><span class="line">            <span class="built_in">rect</span>.origin.y = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        UIGraphicsBeginImageContext(asize);</span><br><span class="line">        CGContextRef context = UIGraphicsGetCurrentContext();</span><br><span class="line">        CGContextClipToRect(context, CGRectMake(<span class="number">0</span>, <span class="number">0</span>, asize.<span class="built_in">width</span>, asize.<span class="built_in">height</span>));</span><br><span class="line">        CGContextSetFillColorWithColor(context, [[UIColor clearColor] CGColor]);</span><br><span class="line">        UIRectFill(CGRectMake(<span class="number">0</span>, <span class="number">0</span>, asize.<span class="built_in">width</span>, asize.<span class="built_in">height</span>));<span class="comment">//clear background</span></span><br><span class="line">        [<span class="built_in">image</span> drawInRect:<span class="built_in">rect</span>];</span><br><span class="line">        newimage = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">        UIGraphicsEndImageContext();</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    UIImageView * imgView = [[UIImageView alloc]initWithFrame:CGRectMake(<span class="number">10</span>, <span class="number">10</span>, <span class="number">100</span>, <span class="number">100</span>)];</span><br><span class="line">    imgView.<span class="built_in">image</span> = newimage;</span><br><span class="line">    [self.view addSubview:imgView];</span><br></pre></td></tr></table></figure>
<h4 id="把时间戳转换为时间"><a href="#把时间戳转换为时间" class="headerlink" title="把时间戳转换为时间"></a>把时间戳转换为时间</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="built_in">NSDate</span> *)dateWithTimeIntervalInMilliSecondSince1970:(<span class="keyword">double</span>)timeIntervalInMilliSecond &#123;</span><br><span class="line">    <span class="built_in">NSDate</span> *ret = <span class="literal">nil</span>;</span><br><span class="line">    <span class="keyword">double</span> timeInterval = timeIntervalInMilliSecond;</span><br><span class="line">    <span class="comment">// judge if the argument is in secconds(for former data structure).</span></span><br><span class="line">    <span class="keyword">if</span>(timeIntervalInMilliSecond &gt; <span class="number">140000000000</span>) &#123;</span><br><span class="line">        timeInterval = timeIntervalInMilliSecond / <span class="number">1000</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ret = [<span class="built_in">NSDate</span> dateWithTimeIntervalSince1970:timeInterval];</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="自定义cell中获取不到cell实际大小的办法"><a href="#自定义cell中获取不到cell实际大小的办法" class="headerlink" title="自定义cell中获取不到cell实际大小的办法"></a>自定义cell中获取不到cell实际大小的办法</h4><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)drawRect:(CGRect)<span class="built_in">rect</span> &#123;</span><br><span class="line">    <span class="comment">// 重写此方法，并在此方法中获取</span></span><br><span class="line">    CGFloat <span class="built_in">width</span> = self.frame.<span class="built_in">size</span>.<span class="built_in">width</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="长按图标抖动"><a href="#长按图标抖动" class="headerlink" title="长按图标抖动"></a>长按图标抖动</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="keyword">void</span>)longPress:(<span class="built_in">UILongPressGestureRecognizer</span>*)longPress</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (longPress.state==<span class="built_in">UIGestureRecognizerStateBegan</span>) &#123;</span><br><span class="line">        <span class="built_in">CAKeyframeAnimation</span>* anim=[<span class="built_in">CAKeyframeAnimation</span> animation];</span><br><span class="line">        anim.keyPath=<span class="string">@"transform.rotation"</span>;</span><br><span class="line">        anim.values=@[@(angelToRandian(<span class="number">-7</span>)),@(angelToRandian(<span class="number">7</span>)),@(angelToRandian(<span class="number">-7</span>))];</span><br><span class="line">        anim.repeatCount=MAXFLOAT;</span><br><span class="line">        anim.duration=<span class="number">0.2</span>;</span><br><span class="line">        [<span class="keyword">self</span>.imageView.layer addAnimation:anim forKey:<span class="literal">nil</span>];</span><br><span class="line">        <span class="keyword">self</span>.btn.hidden=<span class="literal">NO</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="阿拉伯数字转化为汉语数字"><a href="#阿拉伯数字转化为汉语数字" class="headerlink" title="阿拉伯数字转化为汉语数字"></a>阿拉伯数字转化为汉语数字</h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">+(NSString *)translation:(NSString *)arebic</span><br><span class="line"> </span><br><span class="line">&#123;   NSString *str = arebic<span class="comment">;</span></span><br><span class="line">    NSArray *arabic_numerals = @[@<span class="string">"1"</span>,@<span class="string">"2"</span>,@<span class="string">"3"</span>,@<span class="string">"4"</span>,@<span class="string">"5"</span>,@<span class="string">"6"</span>,@<span class="string">"7"</span>,@<span class="string">"8"</span>,@<span class="string">"9"</span>,@<span class="string">"0"</span>]<span class="comment">;</span></span><br><span class="line">    NSArray *chinese_numerals = @[@<span class="string">"一"</span>,@<span class="string">"二"</span>,@<span class="string">"三"</span>,@<span class="string">"四"</span>,@<span class="string">"五"</span>,@<span class="string">"六"</span>,@<span class="string">"七"</span>,@<span class="string">"八"</span>,@<span class="string">"九"</span>,@<span class="string">"零"</span>]<span class="comment">;</span></span><br><span class="line">    NSArray *<span class="keyword">digits </span>= @[@<span class="string">"个"</span>,@<span class="string">"十"</span>,@<span class="string">"百"</span>,@<span class="string">"千"</span>,@<span class="string">"万"</span>,@<span class="string">"十"</span>,@<span class="string">"百"</span>,@<span class="string">"千"</span>,@<span class="string">"亿"</span>,@<span class="string">"十"</span>,@<span class="string">"百"</span>,@<span class="string">"千"</span>,@<span class="string">"兆"</span>]<span class="comment">;</span></span><br><span class="line">    NSDictionary *<span class="keyword">dictionary </span>= [NSDictionary <span class="keyword">dictionaryWithObjects:chinese_numerals </span>forKeys:arabic_numerals]<span class="comment">;</span></span><br><span class="line">     </span><br><span class="line">    NSMutableArray *sums = [NSMutableArray array]<span class="comment">;</span></span><br><span class="line">    for (int i = <span class="number">0</span><span class="comment">; i &lt; str.length; i ++) &#123;</span></span><br><span class="line">        NSString *<span class="keyword">substr </span>= [str <span class="keyword">substringWithRange:NSMakeRange(i, </span><span class="number">1</span>)]<span class="comment">;</span></span><br><span class="line">        NSString *a = [<span class="keyword">dictionary </span>objectForKey:<span class="keyword">substr];</span><br><span class="line"></span>        NSString *<span class="keyword">b </span>= <span class="keyword">digits[str.length </span>-i-1]<span class="comment">;</span></span><br><span class="line">        NSString *sum = [a stringByAppendingString:<span class="keyword">b];</span><br><span class="line"></span>        if ([a isEqualToString:chinese_numerals[<span class="number">9</span>]])</span><br><span class="line">        &#123;</span><br><span class="line">            if([<span class="keyword">b </span>isEqualToString:<span class="keyword">digits[4]] </span><span class="title">||</span> [<span class="keyword">b </span>isEqualToString:<span class="keyword">digits[8]])</span><br><span class="line"></span>            &#123;</span><br><span class="line">                sum = <span class="keyword">b;</span><br><span class="line"></span>                if ([[sums lastObject] isEqualToString:chinese_numerals[<span class="number">9</span>]])</span><br><span class="line">                &#123;</span><br><span class="line">                    [sums removeLastObject]<span class="comment">;</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;else</span><br><span class="line">            &#123;</span><br><span class="line">                sum = chinese_numerals[<span class="number">9</span>]<span class="comment">;</span></span><br><span class="line">            &#125;</span><br><span class="line">             </span><br><span class="line">            if ([[sums lastObject] isEqualToString:sum])</span><br><span class="line">            &#123;</span><br><span class="line">                continue<span class="comment">;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">        [sums <span class="keyword">addObject:sum];</span><br><span class="line"></span>    &#125;</span><br><span class="line">     </span><br><span class="line">    NSString *sumStr = [sums  componentsJoinedByString:@<span class="string">""</span>]<span class="comment">;</span></span><br><span class="line">    NSString *chinese = [sumStr <span class="keyword">substringToIndex:sumStr.length-1];</span><br><span class="line"></span>    NSLog(@<span class="string">"%@"</span>,str)<span class="comment">;</span></span><br><span class="line">    NSLog(@<span class="string">"%@"</span>,chinese)<span class="comment">;</span></span><br><span class="line">    return chinese<span class="comment">;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="两种方法删除NSUserDefaults所有记录"><a href="#两种方法删除NSUserDefaults所有记录" class="headerlink" title="两种方法删除NSUserDefaults所有记录"></a>两种方法删除NSUserDefaults所有记录</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法一</span></span><br><span class="line"><span class="built_in">NSString</span> *appDomain = [[<span class="built_in">NSBundle</span> mainBundle] bundleIdentifier];</span><br><span class="line">[[<span class="built_in">NSUserDefaults</span> standardUserDefaults] removePersistentDomainForName:appDomain];</span><br><span class="line"> </span><br><span class="line"><span class="comment">//方法二</span></span><br><span class="line">- (<span class="keyword">void</span>)resetDefaults &#123;</span><br><span class="line">    <span class="built_in">NSUserDefaults</span> * defs = [<span class="built_in">NSUserDefaults</span> standardUserDefaults];</span><br><span class="line">    <span class="built_in">NSDictionary</span> * dict = [defs dictionaryRepresentation];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">id</span> key <span class="keyword">in</span> dict) &#123;</span><br><span class="line">        [defs removeObjectForKey:key];</span><br><span class="line">    &#125;</span><br><span class="line">    [defs synchronize];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="截屏-全图"><a href="#截屏-全图" class="headerlink" title="截屏 全图"></a>截屏 全图</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">UIImage</span> *)imageFromView: (<span class="built_in">UIView</span> *) theView</span><br><span class="line">&#123;</span><br><span class="line">     </span><br><span class="line">    <span class="built_in">UIGraphicsBeginImageContext</span>(theView.frame.size);</span><br><span class="line">    <span class="built_in">CGContextRef</span> context = <span class="built_in">UIGraphicsGetCurrentContext</span>();</span><br><span class="line">    [theView.layer renderInContext:context];</span><br><span class="line">    <span class="built_in">UIImage</span> *theImage = <span class="built_in">UIGraphicsGetImageFromCurrentImageContext</span>();</span><br><span class="line">    <span class="built_in">UIGraphicsEndImageContext</span>();</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> theImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="判断是否用户开启了定位服务"><a href="#判断是否用户开启了定位服务" class="headerlink" title="判断是否用户开启了定位服务"></a>判断是否用户开启了定位服务</h4><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">if ([<span class="symbol">CLLocationManager</span> locationServicesEnabled] &amp;&amp;  </span><br><span class="line">                ([<span class="symbol">CLLocationManager</span> authorizationStatus] == kCLAuthorizationStatusAuthorized  </span><br><span class="line">                || [<span class="symbol">CLLocationManager</span> authorizationStatus] == kCLAuthorizationStatusNotDetermined)) &#123;  </span><br><span class="line">                //定位功能可用，开始定位  </span><br><span class="line">                <span class="symbol">_locationManger</span> = [[<span class="symbol">CLLocationManager</span> alloc] init];  </span><br><span class="line">                locationManger.delegate = self;  </span><br><span class="line">                [locationManger startUpdatingLocation];  </span><br><span class="line">            &#125;  </span><br><span class="line">            else if ([<span class="symbol">CLLocationManager</span> authorizationStatus] == kCLAuthorizationStatusDenied)&#123;  </span><br><span class="line">        <span class="symbol">NSlog</span>(<span class="string">"定位功能不可用，提示用户或忽略"</span>);   </span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
<h4 id="图片旋转"><a href="#图片旋转" class="headerlink" title="图片旋转"></a>图片旋转</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">UIImage</span> * image = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"iphone.png"</span>];</span><br><span class="line"><span class="built_in">NSData</span> * tempData;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">UIImagePNGRepresentation</span>(image)) &#123;</span><br><span class="line">    tempData = <span class="built_in">UIImagePNGRepresentation</span>(image);</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,tempData);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line">    tempData = <span class="built_in">UIImageJPEGRepresentation</span>(image, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">CIImage</span> * iImg = [<span class="built_in">CIImage</span> imageWithData:tempData];</span><br><span class="line"><span class="built_in">UIImage</span> * tImg = [<span class="built_in">UIImage</span> imageWithCIImage:iImg scale:<span class="number">1</span> orientation:<span class="built_in">UIImageOrientationRight</span>];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"%@"</span>,<span class="built_in">UIImagePNGRepresentation</span>(tImg));</span><br><span class="line"><span class="built_in">UIImageView</span> * imageView = [[<span class="built_in">UIImageView</span> alloc]initWithFrame:<span class="built_in">CGRectMake</span>(<span class="number">10</span>, <span class="number">200</span>, <span class="number">200</span>, <span class="number">80</span>)];</span><br><span class="line">imageView.image = tImg;</span><br><span class="line">[<span class="keyword">self</span>.view addSubview:imageView];</span><br></pre></td></tr></table></figure>
<h4 id="去除UIImageView锯齿"><a href="#去除UIImageView锯齿" class="headerlink" title="去除UIImageView锯齿"></a>去除UIImageView锯齿</h4><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">	</span><br><span class="line">imageView.layer.<span class="keyword">shouldRasterize </span>= YES<span class="comment">;</span></span><br></pre></td></tr></table></figure>
<h4 id="判断两个日期之间的间隔"><a href="#判断两个日期之间的间隔" class="headerlink" title="判断两个日期之间的间隔"></a>判断两个日期之间的间隔</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">NSDateFormatter</span> * dateFormatter = [[<span class="built_in">NSDateFormatter</span> alloc] init];</span><br><span class="line">[dateFormatter setDateFormat:<span class="string">@"yyyyMMddHHmmss"</span>];</span><br><span class="line"><span class="built_in">NSDate</span>* toDate     = [dateFormatter dateFromString:<span class="string">@"19700608142033"</span>];</span><br><span class="line"><span class="built_in">NSDate</span>*  startDate    = [ [ <span class="built_in">NSDate</span> alloc] init ];</span><br><span class="line"><span class="built_in">NSCalendar</span>* chineseClendar = [ [ <span class="built_in">NSCalendar</span> alloc ] initWithCalendarIdentifier:<span class="built_in">NSGregorianCalendar</span> ];</span><br><span class="line"><span class="built_in">NSUInteger</span> unitFlags = <span class="built_in">NSHourCalendarUnit</span> | <span class="built_in">NSMinuteCalendarUnit</span> | <span class="built_in">NSSecondCalendarUnit</span> | <span class="built_in">NSDayCalendarUnit</span> | <span class="built_in">NSMonthCalendarUnit</span> | <span class="built_in">NSYearCalendarUnit</span>;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">NSDateComponents</span> *cps = [ chineseClendar components:unitFlags fromDate:startDate  toDate:toDate  options:<span class="number">0</span>];</span><br><span class="line"> </span><br><span class="line"><span class="built_in">NSInteger</span> diffYear = [cps year];</span><br><span class="line"><span class="built_in">NSInteger</span> diffMon = [cps month];</span><br><span class="line"><span class="built_in">NSInteger</span> diffDay = [cps day];</span><br><span class="line"><span class="built_in">NSInteger</span> diffHour = [cps hour];</span><br><span class="line"><span class="built_in">NSInteger</span> diffMin = [cps minute];</span><br><span class="line"><span class="built_in">NSInteger</span> diffSec = [cps second];</span><br><span class="line"> </span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@" From Now to %@, diff: Years: %d  Months: %d, Days; %d, Hours: %d, Mins:%d, sec:%d"</span>, [toDate description], diffYear, diffMon, diffDay, diffHour, diffMin,diffSec );</span><br></pre></td></tr></table></figure>
<h4 id="类似微信发送视频的流程"><a href="#类似微信发送视频的流程" class="headerlink" title="类似微信发送视频的流程"></a>类似微信发送视频的流程</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取视频的本地url或者path，对视频进行获取第一帧图片，然后初始化消息的Model，设置封面</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NSString</span> *mediaType = [editingInfo objectForKey: <span class="built_in">UIImagePickerControllerMediaType</span>];</span><br><span class="line">                <span class="built_in">NSString</span> *videoPath;</span><br><span class="line">                <span class="built_in">NSURL</span> *videoUrl;</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">CFStringCompare</span> ((__bridge <span class="built_in">CFStringRef</span>) mediaType, kUTTypeMovie, <span class="number">0</span>) == kCFCompareEqualTo) &#123;</span><br><span class="line">                    videoUrl = (<span class="built_in">NSURL</span>*)[editingInfo objectForKey:<span class="built_in">UIImagePickerControllerMediaURL</span>];</span><br><span class="line">                    videoPath = [videoUrl path];</span><br><span class="line">                     </span><br><span class="line">                    <span class="built_in">AVURLAsset</span> *asset = [[<span class="built_in">AVURLAsset</span> alloc] initWithURL:videoUrl options:<span class="literal">nil</span>];</span><br><span class="line">                    <span class="built_in">NSParameterAssert</span>(asset);</span><br><span class="line">                    <span class="built_in">AVAssetImageGenerator</span> *assetImageGenerator = [[<span class="built_in">AVAssetImageGenerator</span> alloc] initWithAsset:asset];</span><br><span class="line">                    assetImageGenerator.appliesPreferredTrackTransform = <span class="literal">YES</span>;</span><br><span class="line">                    assetImageGenerator.apertureMode = <span class="built_in">AVAssetImageGeneratorApertureModeEncodedPixels</span>;</span><br><span class="line">                     </span><br><span class="line">                    <span class="built_in">CGImageRef</span> thumbnailImageRef = <span class="literal">NULL</span>;</span><br><span class="line">                    <span class="built_in">CFTimeInterval</span> thumbnailImageTime = <span class="number">0</span>;</span><br><span class="line">                    <span class="built_in">NSError</span> *thumbnailImageGenerationError = <span class="literal">nil</span>;</span><br><span class="line">                    thumbnailImageRef = [assetImageGenerator copyCGImageAtTime:CMTimeMake(thumbnailImageTime, <span class="number">60</span>) actualTime:<span class="literal">NULL</span> error:&amp;thumbnailImageGenerationError;];</span><br><span class="line">                     </span><br><span class="line">                    <span class="keyword">if</span> (!thumbnailImageRef)</span><br><span class="line">                        <span class="built_in">NSLog</span>(<span class="string">@"thumbnailImageGenerationError %@"</span>, thumbnailImageGenerationError);</span><br><span class="line">                     </span><br><span class="line">                    <span class="built_in">UIImage</span> *thumbnailImage = thumbnailImageRef ? [[<span class="built_in">UIImage</span> alloc] initWithCGImage:thumbnailImageRef] : <span class="literal">nil</span>;</span><br><span class="line">                     </span><br><span class="line">                    XHMessage *videoMessage = [[XHMessage alloc] initWithVideoConverPhoto:thumbnailImage videoPath:videoPath videoUrl:<span class="literal">nil</span> sender:<span class="string">@"Jack"</span> timestamp:[<span class="built_in">NSDate</span> date]];</span><br><span class="line">                    [weakSelf addMessage:videoMessage];</span><br><span class="line">                &#125;</span><br></pre></td></tr></table></figure>
<h4 id="刷新某行cell的方法"><a href="#刷新某行cell的方法" class="headerlink" title="刷新某行cell的方法"></a>刷新某行cell的方法</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//有时候只需要刷新某行的cell的数据，完全没必要调用[tableView reloadData]刷新整个列表的数据，调用以下方法即可。</span></span><br><span class="line"></span><br><span class="line">NSIndexPath *indexPath_1=[NSIndexPath <span class="string">indexPathForRow:</span><span class="number">1</span> <span class="string">inSection:</span><span class="number">0</span>];</span><br><span class="line">      NSArray *indexArray=[NSArray  <span class="string">arrayWithObject:</span>indexPath_1];</span><br><span class="line">      [myTableView  <span class="string">reloadRowsAtIndexPaths:</span>indexArray <span class="string">withRowAnimation:</span>UITableViewRowAnimationAutomatic];</span><br></pre></td></tr></table></figure>
<h4 id="由身份证号码返回性别"><a href="#由身份证号码返回性别" class="headerlink" title="由身份证号码返回性别"></a>由身份证号码返回性别</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">-(<span class="built_in">NSString</span> *)sexStrFromIdentityCard:(<span class="built_in">NSString</span> *)numberStr&#123;</span><br><span class="line">    <span class="built_in">NSString</span> *result = <span class="literal">nil</span>;</span><br><span class="line">     </span><br><span class="line">    <span class="built_in">BOOL</span> isAllNumber = <span class="literal">YES</span>;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">if</span>([numberStr length]&lt;<span class="number">17</span>)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//**截取第17为性别识别符</span></span><br><span class="line">    <span class="built_in">NSString</span> *fontNumer = [numberStr substringWithRange:<span class="built_in">NSMakeRange</span>(<span class="number">16</span>, <span class="number">1</span>)];</span><br><span class="line">     </span><br><span class="line">    <span class="comment">//**检测是否是数字;</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *str = [fontNumer UTF8String];</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">char</span> *p = str;</span><br><span class="line">    <span class="keyword">while</span> (*p!=<span class="string">'\0'</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!(*p&gt;=<span class="string">'0'</span>&amp;&amp;*p&lt;=<span class="string">'9'</span>))</span><br><span class="line">            isAllNumber = <span class="literal">NO</span>;</span><br><span class="line">        p++;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">if</span>(!isAllNumber)</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">int</span> sexNumber = [fontNumer integerValue];</span><br><span class="line">    <span class="keyword">if</span>(sexNumber%<span class="number">2</span>==<span class="number">1</span>)</span><br><span class="line">        result = <span class="string">@"男"</span>;</span><br><span class="line">    <span class="comment">///result = @"M";</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (sexNumber%<span class="number">2</span>==<span class="number">0</span>)</span><br><span class="line">        result = <span class="string">@"女"</span>;</span><br><span class="line">    <span class="comment">//result = @"F";</span></span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="数组随机重新排列"><a href="#数组随机重新排列" class="headerlink" title="数组随机重新排列"></a>数组随机重新排列</h4><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">+ (NSArray *)<span class="string">getRandomWithPosition:</span>(NSInteger)position <span class="string">positionContent:</span>(id)positionContent <span class="string">array:</span>(NSArray *)baseArray &#123;</span><br><span class="line">    NSMutableArray *resultArray = [NSMutableArray <span class="string">arrayWithCapacity:</span>baseArray.count];</span><br><span class="line">    NSMutableArray *tempBaseArray = [NSMutableArray <span class="string">arrayWithArray:</span>baseArray];</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">while</span> ([tempBaseArray count]) &#123;</span><br><span class="line">        NSInteger range = [tempBaseArray count];</span><br><span class="line">        id string = [tempBaseArray <span class="string">objectAtIndex:</span>arc4random()%range];</span><br><span class="line">        [resultArray <span class="string">addObject:</span>string];</span><br><span class="line">        [tempBaseArray <span class="string">removeObject:</span>string];</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    NSUInteger index = [resultArray <span class="string">indexOfObject:</span>positionContent];</span><br><span class="line">    [resultArray <span class="string">exchangeObjectAtIndex:</span>index <span class="string">withObjectAtIndex:</span>position - <span class="number">1</span>];</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">return</span> resultArray;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="利用陀螺仪实现更真实的微信摇一摇动画"><a href="#利用陀螺仪实现更真实的微信摇一摇动画" class="headerlink" title="利用陀螺仪实现更真实的微信摇一摇动画"></a>利用陀螺仪实现更真实的微信摇一摇动画</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="built_in">BOOL</span>)application:(<span class="built_in">UIApplication</span> *)application didFinishLaunchingWithOptions:(<span class="built_in">NSDictionary</span> *)launchOptions</span><br><span class="line">&#123;    </span><br><span class="line">    <span class="comment">//想摇你的手机嘛？就写在这，然后，然后，没有然后了</span></span><br><span class="line">    application.applicationSupportsShakeToEdit=<span class="literal">YES</span>;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">-(<span class="keyword">void</span>)motionEnded:(<span class="built_in">UIEventSubtype</span>)motion withEvent:(<span class="built_in">UIEvent</span> *)event &#123;</span><br><span class="line">    <span class="keyword">if</span>(motion==<span class="built_in">UIEventSubtypeMotionShake</span>) &#123;</span><br><span class="line">         <span class="comment">// 真实一点的摇动动画</span></span><br><span class="line">        [<span class="keyword">self</span> addAnimations];</span><br><span class="line">         <span class="comment">// 播放声音</span></span><br><span class="line">        AudioServicesPlaySystemSound (soundID); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">- (<span class="keyword">void</span>)addAnimations &#123;</span><br><span class="line">    <span class="built_in">CABasicAnimation</span> *translation = [<span class="built_in">CABasicAnimation</span> animationWithKeyPath:<span class="string">@"transform"</span>];</span><br><span class="line">    translation.timingFunction = [<span class="built_in">CAMediaTimingFunction</span> functionWithName:kCAMediaTimingFunctionEaseInEaseOut];</span><br><span class="line">    translation.toValue=[<span class="built_in">NSValue</span> valueWithCATransform3D:<span class="built_in">CATransform3DMakeRotation</span>(-M_PI_4, <span class="number">0</span>, <span class="number">0</span>, <span class="number">100</span>)];</span><br><span class="line">    translation.duration = <span class="number">0.2</span>;</span><br><span class="line">    translation.repeatCount = <span class="number">2</span>;</span><br><span class="line">    translation.autoreverses = <span class="literal">YES</span>;</span><br><span class="line">     </span><br><span class="line">    [shake.layer addAnimation:translation forKey:<span class="string">@"translation"</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="GIF图片解析"><a href="#GIF图片解析" class="headerlink" title="GIF图片解析"></a>GIF图片解析</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">+ (<span class="built_in">NSMutableArray</span> *)praseGIFDataToImageArray:(<span class="built_in">NSData</span> *)data;</span><br><span class="line"> &#123;</span><br><span class="line">    <span class="built_in">NSMutableArray</span> *frames = [[<span class="built_in">NSMutableArray</span> alloc] init];</span><br><span class="line">    <span class="built_in">CGImageSourceRef</span> src = <span class="built_in">CGImageSourceCreateWithData</span>((<span class="built_in">CFDataRef</span>)data, <span class="literal">NULL</span>);</span><br><span class="line">    <span class="built_in">CGFloat</span> animationTime = <span class="number">0.</span>f;</span><br><span class="line">    <span class="keyword">if</span> (src) &#123;</span><br><span class="line">        size_t l = <span class="built_in">CGImageSourceGetCount</span>(src);</span><br><span class="line">        frames = [<span class="built_in">NSMutableArray</span> arrayWithCapacity:l];</span><br><span class="line">        <span class="keyword">for</span> (size_t i = <span class="number">0</span>; i &lt; l; i++) &#123;</span><br><span class="line">            <span class="built_in">CGImageRef</span> img = <span class="built_in">CGImageSourceCreateImageAtIndex</span>(src, i, <span class="literal">NULL</span>);</span><br><span class="line">            <span class="built_in">NSDictionary</span> *properties = (<span class="built_in">NSDictionary</span> *)<span class="built_in">CGImageSourceCopyPropertiesAtIndex</span>(src, i, <span class="literal">NULL</span>);</span><br><span class="line">            <span class="built_in">NSDictionary</span> *frameProperties = [properties objectForKey:(<span class="built_in">NSString</span> *)kCGImagePropertyGIFDictionary];</span><br><span class="line">            <span class="built_in">NSNumber</span> *delayTime = [frameProperties objectForKey:(<span class="built_in">NSString</span> *)kCGImagePropertyGIFUnclampedDelayTime];</span><br><span class="line">            animationTime += [delayTime floatValue];</span><br><span class="line">            <span class="keyword">if</span> (img) &#123;</span><br><span class="line">                [frames addObject:[<span class="built_in">UIImage</span> imageWithCGImage:img]];</span><br><span class="line">                <span class="built_in">CGImageRelease</span>(img);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">CFRelease</span>(src);</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="keyword">return</span> frames;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="在后台播放音乐"><a href="#在后台播放音乐" class="headerlink" title="在后台播放音乐"></a>在后台播放音乐</h4><figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. 在Info.plist中，添加"Required background modes"键，其值设置是“App plays audio" </span></span><br><span class="line"><span class="comment">//2. 在播放器播放音乐的代码所在处，添加如下两段代码（当然，前提是已经添加了AVFoundation框架）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//添加后台播放代码：</span></span><br><span class="line"><span class="built_in">AVAudioSession</span> *session = [<span class="built_in">AVAudioSession</span> sharedInstance];    </span><br><span class="line">[session setActive:<span class="literal">YES</span> error:<span class="literal">nil</span>];    </span><br><span class="line">[session setCategory:<span class="built_in">AVAudioSessionCategoryPlayback</span> error:<span class="literal">nil</span>];   </span><br><span class="line"> </span><br><span class="line"><span class="comment">//以及设置app支持接受远程控制事件代码。设置app支持接受远程控制事件，</span></span><br><span class="line"><span class="comment">//其实就是在dock中可以显示应用程序图标，同时点击该图片时，打开app。</span></span><br><span class="line"><span class="comment">//或者锁屏时，双击home键，屏幕上方出现应用程序播放控制按钮。</span></span><br><span class="line">[[<span class="built_in">UIApplication</span> sharedApplication] beginReceivingRemoteControlEvents]; </span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">//用下列代码播放音乐，测试后台播放</span></span><br><span class="line"><span class="comment">// 创建播放器  </span></span><br><span class="line"><span class="built_in">AVAudioPlayer</span> *player = [[<span class="built_in">AVAudioPlayer</span> alloc] initWithContentsOfURL:url error:<span class="literal">nil</span>];  </span><br><span class="line">[url release];  </span><br><span class="line">[player prepareToPlay];  </span><br><span class="line">[player setVolume:<span class="number">1</span>];  </span><br><span class="line">player.numberOfLoops = <span class="number">-1</span>; <span class="comment">//设置音乐播放次数  -1为一直循环  </span></span><br><span class="line">[player play]; <span class="comment">//播放</span></span><br></pre></td></tr></table></figure>

      
    </div>
    
  </div>
  
    
<div class="copyright">
  <p><span>本文标题:</span><a href="/2014/04/23/ios-skill/">iOS-Skill技巧</a></p>
  <p><span>文章作者:</span><a href="/" title="访问 Yi&#39;mouleng 的个人博客">Yi&#39;mouleng</a></p>
  <p><span>发布时间:</span>2014年04月23日 - 00时00分</p>
  <p><span>最后更新:</span>2016年01月28日 - 17时58分</p>
  <p>
    <span>原始链接:</span><a class="post-url" href="/2014/04/23/ios-skill/" title="iOS-Skill技巧">http://yimouleng.github.io/2014/04/23/ios-skill/</a>
    <span class="copy-path" data-clipboard-text="原文: http://yimouleng.github.io/2014/04/23/ios-skill/　　作者: Yi&#39;mouleng" title="点击复制文章链接">
        <i class="fa fa-clipboard"></i>
    </span>
  </p>
  <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。</p>
  <script src="/js/clipboard.min.js"></script>
  <script> var clipboard = new Clipboard('.copy-path'); </script>
</div>



<nav id="article-nav">
  
    <a href="/2014/07/20/ios-yuanjiao-yinying/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          iOS开发 - 圆角/阴影
        
      </div>
    </a>
  
  
</nav>

  
</article>

    <div id="toc" class="toc-article">
  <strong class="toc-title">文章目录</strong>
  <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#返回输入键盘"><span class="toc-number">1.0.1.</span> <span class="toc-text">返回输入键盘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CGRect"><span class="toc-number">1.0.2.</span> <span class="toc-text">CGRect</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#隐藏状态栏"><span class="toc-number">1.0.3.</span> <span class="toc-text">隐藏状态栏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自动适应父视图大小"><span class="toc-number">1.0.4.</span> <span class="toc-text">自动适应父视图大小</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UITableView的一些方法"><span class="toc-number">1.0.5.</span> <span class="toc-text">UITableView的一些方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#把plist文件中的数据赋给数组"><span class="toc-number">1.0.6.</span> <span class="toc-text">把plist文件中的数据赋给数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#获取触摸的点"><span class="toc-number">1.0.7.</span> <span class="toc-text">获取触摸的点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#获取触摸的属性"><span class="toc-number">1.0.8.</span> <span class="toc-text">获取触摸的属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#从plist中获取数据赋给字典"><span class="toc-number">1.0.9.</span> <span class="toc-text">从plist中获取数据赋给字典</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NSUserDefaults注意事项"><span class="toc-number">1.0.10.</span> <span class="toc-text">NSUserDefaults注意事项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#获取Documents目录"><span class="toc-number">1.0.11.</span> <span class="toc-text">获取Documents目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#获取tmp目录"><span class="toc-number">1.0.12.</span> <span class="toc-text">获取tmp目录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#利用Safari打开一个链接"><span class="toc-number">1.0.13.</span> <span class="toc-text">利用Safari打开一个链接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#利用UIWebView显示pdf文件，网页等等"><span class="toc-number">1.0.14.</span> <span class="toc-text">利用UIWebView显示pdf文件，网页等等</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UIWebView和html的简单交互"><span class="toc-number">1.0.15.</span> <span class="toc-text">UIWebView和html的简单交互</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#汉字转码"><span class="toc-number">1.0.16.</span> <span class="toc-text">汉字转码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#处理键盘通知"><span class="toc-number">1.0.17.</span> <span class="toc-text">处理键盘通知</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#点击键盘的next按钮，在不同的textField之间换行"><span class="toc-number">1.0.18.</span> <span class="toc-text">点击键盘的next按钮，在不同的textField之间换行</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#设置日期格式"><span class="toc-number">1.0.19.</span> <span class="toc-text">设置日期格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#加载大量图片的时候，可以使用"><span class="toc-number">1.0.20.</span> <span class="toc-text">加载大量图片的时候，可以使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#有时候在iPhone游戏中，既要播放背景音乐，同时又要播放比如枪的开火音效。"><span class="toc-number">1.0.21.</span> <span class="toc-text">有时候在iPhone游戏中，既要播放背景音乐，同时又要播放比如枪的开火音效。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#从通讯录中读取电话号码，去掉数字之间的"><span class="toc-number">1.0.22.</span> <span class="toc-text">从通讯录中读取电话号码，去掉数字之间的-</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#字符串是否为空"><span class="toc-number">1.0.23.</span> <span class="toc-text">字符串是否为空</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#正则判断：字符串只包含字母和数字"><span class="toc-number">1.0.24.</span> <span class="toc-text">正则判断：字符串只包含字母和数字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#设置UITableView的滚动条颜色"><span class="toc-number">1.0.25.</span> <span class="toc-text">设置UITableView的滚动条颜色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#网络编程"><span class="toc-number">1.0.26.</span> <span class="toc-text">网络编程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#使用NSURLConnection下载数据"><span class="toc-number">1.0.27.</span> <span class="toc-text">使用NSURLConnection下载数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#隐藏状态栏-1"><span class="toc-number">1.0.28.</span> <span class="toc-text">隐藏状态栏</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#m文件与-mm文件的区别"><span class="toc-number">1.0.29.</span> <span class="toc-text">.m文件与.mm文件的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Safari其实没有把内存的缓存写到存储卡上"><span class="toc-number">1.0.30.</span> <span class="toc-text">Safari其实没有把内存的缓存写到存储卡上</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#读取一般性文件"><span class="toc-number">1.0.31.</span> <span class="toc-text">读取一般性文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#隐藏UINavigationBar"><span class="toc-number">1.0.32.</span> <span class="toc-text">隐藏UINavigationBar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#调用电话，短信，邮件"><span class="toc-number">1.0.33.</span> <span class="toc-text">调用电话，短信，邮件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#获取版本信息"><span class="toc-number">1.0.34.</span> <span class="toc-text">获取版本信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UIWebView的使用"><span class="toc-number">1.0.35.</span> <span class="toc-text">UIWebView的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#NSNotificationCenter带参数发送"><span class="toc-number">1.0.36.</span> <span class="toc-text">NSNotificationCenter带参数发送</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#延迟一段时间执行某个函数"><span class="toc-number">1.0.37.</span> <span class="toc-text">延迟一段时间执行某个函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#用NSDateFormatter调整时间格式代码"><span class="toc-number">1.0.38.</span> <span class="toc-text">用NSDateFormatter调整时间格式代码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#UIView设置成圆角的方法"><span class="toc-number">1.0.39.</span> <span class="toc-text">UIView设置成圆角的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Objective-C-内存管理"><span class="toc-number">1.0.40.</span> <span class="toc-text">Objective-C 内存管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#关键字"><span class="toc-number">1.0.41.</span> <span class="toc-text">关键字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#原则"><span class="toc-number">1.0.42.</span> <span class="toc-text">原则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#iPhone-更改键盘右下角按键的-type"><span class="toc-number">1.0.43.</span> <span class="toc-text">iPhone 更改键盘右下角按键的 type</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tableView左滑出多个按钮"><span class="toc-number">1.0.44.</span> <span class="toc-text">tableView左滑出多个按钮</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#给图片增加模糊效果"><span class="toc-number">1.0.45.</span> <span class="toc-text">给图片增加模糊效果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#网易新闻头部滚动切换"><span class="toc-number">1.0.46.</span> <span class="toc-text">网易新闻头部滚动切换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#七牛上传图片的简单封装"><span class="toc-number">1.0.47.</span> <span class="toc-text">七牛上传图片的简单封装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#导航条渐隐渐现"><span class="toc-number">1.0.48.</span> <span class="toc-text">导航条渐隐渐现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#图片压缩"><span class="toc-number">1.0.49.</span> <span class="toc-text">图片压缩</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#图片裁剪，类似新浪微博小图显示效果"><span class="toc-number">1.0.50.</span> <span class="toc-text">图片裁剪，类似新浪微博小图显示效果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#把时间戳转换为时间"><span class="toc-number">1.0.51.</span> <span class="toc-text">把时间戳转换为时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自定义cell中获取不到cell实际大小的办法"><span class="toc-number">1.0.52.</span> <span class="toc-text">自定义cell中获取不到cell实际大小的办法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#长按图标抖动"><span class="toc-number">1.0.53.</span> <span class="toc-text">长按图标抖动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#阿拉伯数字转化为汉语数字"><span class="toc-number">1.0.54.</span> <span class="toc-text">阿拉伯数字转化为汉语数字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#两种方法删除NSUserDefaults所有记录"><span class="toc-number">1.0.55.</span> <span class="toc-text">两种方法删除NSUserDefaults所有记录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#截屏-全图"><span class="toc-number">1.0.56.</span> <span class="toc-text">截屏 全图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#判断是否用户开启了定位服务"><span class="toc-number">1.0.57.</span> <span class="toc-text">判断是否用户开启了定位服务</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#图片旋转"><span class="toc-number">1.0.58.</span> <span class="toc-text">图片旋转</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#去除UIImageView锯齿"><span class="toc-number">1.0.59.</span> <span class="toc-text">去除UIImageView锯齿</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#判断两个日期之间的间隔"><span class="toc-number">1.0.60.</span> <span class="toc-text">判断两个日期之间的间隔</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#类似微信发送视频的流程"><span class="toc-number">1.0.61.</span> <span class="toc-text">类似微信发送视频的流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#刷新某行cell的方法"><span class="toc-number">1.0.62.</span> <span class="toc-text">刷新某行cell的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#由身份证号码返回性别"><span class="toc-number">1.0.63.</span> <span class="toc-text">由身份证号码返回性别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#数组随机重新排列"><span class="toc-number">1.0.64.</span> <span class="toc-text">数组随机重新排列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#利用陀螺仪实现更真实的微信摇一摇动画"><span class="toc-number">1.0.65.</span> <span class="toc-text">利用陀螺仪实现更真实的微信摇一摇动画</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GIF图片解析"><span class="toc-number">1.0.66.</span> <span class="toc-text">GIF图片解析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#在后台播放音乐"><span class="toc-number">1.0.67.</span> <span class="toc-text">在后台播放音乐</span></a></li></ol></li></ol></li></ol>
</div>

<style>
  .left-col .switch-btn {
    display: none;
  }
  .left-col .switch-area {
    display: none;
  }
</style>

<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">
<script>
  var toc_button= document.getElementById("tocButton");
  var toc_div= document.getElementById("toc");
  toc_button.onclick=function(){
    if(toc_div.style.display=="none"){
      toc_div.style.display="block";
      toc_button.value="隐藏目录";
      document.getElementById("switch-btn").style.display="none";
      document.getElementById("switch-area").style.display="none";
    }
    else{
      toc_div.style.display="none";
      toc_button.value="显示目录";
      document.getElementById("switch-btn").style.display="block";
      document.getElementById("switch-area").style.display="block";
    }
  }
</script>


<div class="share">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">分享到：</span>
		<a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
		<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>





</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2018 本站由 <a href="https://weibo.com/yimouleng" target="_blank">@yimouleng</a> 创建，采用
        <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> 作为主题并加以修改
    	</div>
      	<div class="footer-right">
      		感谢 <a href="https://pages.github.com/" target="_blank">Github Pages</a> 提供稳定的空间服务
      	</div>
    </div>
  </div>
</footer>

    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>